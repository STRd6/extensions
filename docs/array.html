<!DOCTYPE html>

<html>
<head>
  <title>array</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="http://strd6.github.io/cdn/parallel/docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    <ul class="sections">
        
        
        <li id="section-1">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <h1 id="array">Array</h1>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              
            </div>
            <div class="content"><pre><code class="lang-coffeescript">{extend} = require <span class="string">"./util"</span>

extend Array.prototype,</code></pre>
</div>
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>Calculate the average value of an array. Returns undefined if some elements
are not numbers.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  average: -&gt;
    <span class="property">@sum</span>()/<span class="property">@length</span></code></pre>
</div>
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
[1, 3, 5, 7].average()</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>Returns a copy of the array without null and undefined values.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  compact: -&gt;
    <span class="property">@select</span> (element) -&gt;
      element?</code></pre>
</div>
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
[null, undefined, 3, 3, undefined, 5].compact()</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Creates and returns a copy of the array. The copy contains
the same objects.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  copy: -&gt;
    <span class="property">@concat</span>()</code></pre>
</div>
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
a = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
b = a.copy()

# their elements are equal
a[0] == b[0] &amp;&amp; a[1] == b[1] &amp;&amp; a[2] == b[2]
# =&gt; true

# but they aren&#39;t the same object in memory
a is b
# =&gt; false</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>Empties the array of its contents. It is modified in place.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  clear: -&gt;
    <span class="property">@length</span> = <span class="number">0</span>

    <span class="keyword">return</span> <span class="keyword">this</span></code></pre>
</div>
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
fullArray = [1, 2, 3]
fullArray.clear()
fullArray</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>Flatten out an array of arrays into a single array of elements.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  flatten: -&gt;
    <span class="property">@inject</span> [], (a, b) -&gt;
      a.concat b</code></pre>
</div>
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
[[1, 2], [3, 4], 5].flatten()
# =&gt; [1, 2, 3, 4, 5]

# won&#39;t flatten twice nested arrays. call
# flatten twice if that is what you want
[[1, 2], [3, [4, 5]], 6].flatten()
# =&gt; [1, 2, 3, [4, 5], 6]</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>Invoke the named method on each element in the array
and return a new array containing the results of the invocation.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  invoke: (method, args...) -&gt;
    <span class="property">@map</span> (element) -&gt;
      element[method].apply(element, args)</code></pre>
</div>
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
[1.1, 2.2, 3.3, 4.4].invoke(&quot;floor&quot;)</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
[&#39;hello&#39;, &#39;world&#39;, &#39;cool!&#39;].invoke(&#39;substring&#39;, 0, 3)</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>Randomly select an element from the array.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  rand: -&gt;
    @[rand(<span class="property">@length</span>)]</code></pre>
</div>
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
[1, 2, 3].rand()</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Remove the first occurrence of the given object from the array if it is
present. The array is modified in place.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  remove: (object) -&gt;
    index = <span class="property">@indexOf</span>(object)

    <span class="keyword">if</span> index &gt;= <span class="number">0</span>
      <span class="property">@splice</span>(index, <span class="number">1</span>)[<span class="number">0</span>]
    <span class="keyword">else</span>
      <span class="literal">undefined</span></code></pre>
</div>
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
a = [1, 1, &quot;a&quot;, &quot;b&quot;]
a.remove(1)
a</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>Returns true if the element is present in the array.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  include: (element) -&gt;
    <span class="property">@indexOf</span>(element) != -<span class="number">1</span></code></pre>
</div>
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;].include(&quot;c&quot;)</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>Call the given iterator once for each element in the array,
passing in the element as the first argument, the index of
the element as the second argument, and this array as the
third argument.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  each: (iterator, context) -&gt;
    <span class="keyword">if</span> <span class="property">@forEach</span>
      <span class="property">@forEach</span> iterator, context
    <span class="keyword">else</span>
      <span class="keyword">for</span> element, i <span class="keyword">in</span> <span class="keyword">this</span>
        iterator.call context, element, i, <span class="keyword">this</span>

    <span class="keyword">return</span> <span class="keyword">this</span></code></pre>
</div>
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
word = &quot;&quot;
indices = []
[&quot;r&quot;, &quot;a&quot;, &quot;d&quot;].each (letter, index) -&gt;
  word += letter
  indices.push(index)

# =&gt; [&quot;r&quot;, &quot;a&quot;, &quot;d&quot;]

word
# =&gt; &quot;rad&quot;

indices</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>Call the given iterator once for each pair of objects in the array.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  eachPair: (iterator, context) -&gt;
    length = <span class="property">@length</span>
    i = <span class="number">0</span>
    <span class="keyword">while</span> i &lt; length
      a = @[i]
      j = i + <span class="number">1</span>
      i += <span class="number">1</span>

      <span class="keyword">while</span> j &lt; length
        b = @[j]
        j += <span class="number">1</span>

        iterator.call context, a, b</code></pre>
</div>
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
results = []
[1, 2, 3, 4].eachPair (a, b) -&gt;
  results.push [a, b]

results</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>Call the given iterator once for each element in the array,
passing in the element as the first argument and the given object
as the second argument. Additional arguments are passed similar to
<code>each</code>.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  eachWithObject: (object, iterator, context) -&gt;
    <span class="property">@each</span> (element, i, self) -&gt;
      iterator.call context, element, object, i, self

    <span class="keyword">return</span> object</code></pre>
</div>
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>Call the given iterator once for each group of elements in the array,
passing in the elements in groups of n. Additional arguments are
passed as in <code>each</code>.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  eachSlice: (n, iterator, context) -&gt;
    len = <span class="property">@length</span> / n
    i = -<span class="number">1</span>

    <span class="keyword">while</span> ++i &lt; len
      iterator.call(context, <span class="property">@slice</span>(i*n, (i+<span class="number">1</span>)*n), i*n, <span class="keyword">this</span>)

    <span class="keyword">return</span> <span class="keyword">this</span></code></pre>
</div>
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
results = []
[1, 2, 3, 4].eachSlice 2, (slice) -&gt;
  results.push(slice)

results</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>Pipe the input through each function in the array in turn. For example, if you have a
list of objects you can perform a series of selection, sorting, and other processing
methods and then receive the processed list. This array must contain functions that
accept a single input and return the processed input. The output of the first function
is fed to the input of the second and so on until the final processed output is returned.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  pipeline: (input) -&gt;
    <span class="property">@inject</span> input, (input, fn) -&gt;
      fn(input)</code></pre>
</div>
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p>Returns a new array with the elements all shuffled up.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  shuffle: -&gt;
    shuffledArray = []

    <span class="property">@each</span> (element) -&gt;
      shuffledArray.splice(rand(shuffledArray.length + <span class="number">1</span>), <span class="number">0</span>, element)

    <span class="keyword">return</span> shuffledArray</code></pre>
</div>
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
[0..9].shuffle()</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              <p>Returns the first element of the array, undefined if the array is empty.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  first: -&gt;
    @[<span class="number">0</span>]</code></pre>
</div>
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
[&quot;first&quot;, &quot;second&quot;, &quot;third&quot;].first()</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p>Returns the last element of the array, undefined if the array is empty.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  last: -&gt;
    @[<span class="property">@length</span> - <span class="number">1</span>]</code></pre>
</div>
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
[&quot;first&quot;, &quot;second&quot;, &quot;third&quot;].last()</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-36">&#182;</a>
              </div>
              <p>Returns an object containing the extremes of this array.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  extremes: (fn=identity) -&gt;
    min = max = <span class="literal">undefined</span>
    minResult = maxResult = <span class="literal">undefined</span>

    <span class="property">@each</span> (object) -&gt;
      result = fn(object)

      <span class="keyword">if</span> min?
        <span class="keyword">if</span> result &lt; minResult
          min = object
          minResult = result
      <span class="keyword">else</span>
        min = object
        minResult = result

      <span class="keyword">if</span> max?
        <span class="keyword">if</span> result &gt; maxResult
          max = object
          maxResult = result
      <span class="keyword">else</span>
        max = object
        maxResult = result

    min: min
    max: max</code></pre>
</div>
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-37">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
[-1, 3, 0].extremes()</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-38">&#182;</a>
              </div>
              
            </div>
            <div class="content"><pre><code class="lang-coffeescript">  maxima: (valueFunction=identity) -&gt;
    <span class="property">@inject</span>([-Infinity, []], (memo, item) -&gt;
      value = valueFunction(item)
      [maxValue, maxItems] = memo

      <span class="keyword">if</span> value &gt; maxValue
        [value, [item]]
      <span class="keyword">else</span> <span class="keyword">if</span> value <span class="keyword">is</span> maxValue
        [value, maxItems.concat(item)]
      <span class="keyword">else</span>
        memo
    ).last()

  maximum: (valueFunction) -&gt;
    <span class="property">@maxima</span>(valueFunction).first()

  minima: (valueFunction=identity) -&gt;
    <span class="function"><span class="title">inverseFn</span></span> = (x) -&gt;
      -valueFunction(x)

    <span class="property">@maxima</span>(inverseFn)

  minimum: (valueFunction) -&gt;
    <span class="property">@minima</span>(valueFunction).first()</code></pre>
</div>
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-39">&#182;</a>
              </div>
              <p>Pretend the array is a circle and grab a new array containing length elements.
If length is not given return the element at start, again assuming the array
is a circle.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  wrap: (start, length) -&gt;
    <span class="keyword">if</span> length?
      end = start + length
      i = start
      result = []

      <span class="keyword">while</span> i &lt; end
        result.push(@[mod(i, <span class="property">@length</span>)])
        i += <span class="number">1</span>

      <span class="keyword">return</span> result
    <span class="keyword">else</span>
      <span class="keyword">return</span> @[mod(start, <span class="property">@length</span>)]</code></pre>
</div>
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-40">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
[1, 2, 3].wrap(-1)</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-41">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-41">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
[1, 2, 3].wrap(6)</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-42">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-42">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
[&quot;l&quot;, &quot;o&quot;, &quot;o&quot;, &quot;p&quot;].wrap(0, 12)</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-43">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-43">&#182;</a>
              </div>
              <p>Partitions the elements into two groups: those for which the iterator returns
true, and those for which it returns false.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  partition: (iterator, context) -&gt;
    trueCollection = []
    falseCollection = []

    <span class="property">@each</span> (element) -&gt;
      <span class="keyword">if</span> iterator.call(context, element)
        trueCollection.push element
      <span class="keyword">else</span>
        falseCollection.push element

    <span class="keyword">return</span> [trueCollection, falseCollection]</code></pre>
</div>
        </li>
        
        
        <li id="section-44">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-44">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
[0..9].partition (n) -&gt;
  n % 2 is 0</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-45">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-45">&#182;</a>
              </div>
              <p>Return the group of elements for which the return value of the iterator is true.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  select: (iterator, context) -&gt;
    <span class="keyword">return</span> <span class="property">@partition</span>(iterator, context)[<span class="number">0</span>]</code></pre>
</div>
        </li>
        
        
        <li id="section-46">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-46">&#182;</a>
              </div>
              <p>Return the group of elements that are not in the passed in set.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  without: (values) -&gt;
    <span class="property">@reject</span> (element) -&gt;
      values.include(element)</code></pre>
</div>
        </li>
        
        
        <li id="section-47">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-47">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
[1, 2, 3, 4].without [2, 3]</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-48">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-48">&#182;</a>
              </div>
              <p>Return the group of elements for which the return value of the iterator is false.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  reject: (iterator, context) -&gt;
    <span class="property">@partition</span>(iterator, context)[<span class="number">1</span>]</code></pre>
</div>
        </li>
        
        
        <li id="section-49">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-49">&#182;</a>
              </div>
              <p>Combines all elements of the array by applying a binary operation.
for each element in the arra the iterator is passed an accumulator
value (memo) and the element.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  inject: (initial, iterator) -&gt;
    <span class="property">@each</span> (element) -&gt;
      initial = iterator(initial, element)

    <span class="keyword">return</span> initial</code></pre>
</div>
        </li>
        
        
        <li id="section-50">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-50">&#182;</a>
              </div>
              <p>Add all the elements in the array.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  sum: -&gt;
    <span class="property">@inject</span> <span class="number">0</span>, (sum, n) -&gt;
      sum + n</code></pre>
</div>
        </li>
        
        
        <li id="section-51">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-51">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
[1, 2, 3, 4].sum()</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-52">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-52">&#182;</a>
              </div>
              <p>Multiply all the elements in the array.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  product: -&gt;
    <span class="property">@inject</span> <span class="number">1</span>, (product, n) -&gt;
      product * n</code></pre>
</div>
        </li>
        
        
        <li id="section-53">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-53">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
[1, 2, 3, 4].product()</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-54">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-54">&#182;</a>
              </div>
              <p>Produce a duplicate-free version of the array.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  unique: -&gt;
    <span class="property">@inject</span> [], (results, element) -&gt;
      results.push element <span class="keyword">if</span> results.indexOf(element) <span class="keyword">is</span> -<span class="number">1</span>

      results</code></pre>
</div>
        </li>
        
        
        <li id="section-55">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-55">&#182;</a>
              </div>
              <p>Merges together the values of each of the arrays with the values at the corresponding position.</p>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">  zip: (args...) -&gt;
    <span class="property">@map</span> (element, index) -&gt;
      output = args.map (arr) -&gt;
        arr[index]

      output.unshift(element)

      <span class="keyword">return</span> output</code></pre>
</div>
        </li>
        
        
        <li id="section-56">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-56">&#182;</a>
              </div>
              <blockquote>
<pre><code>#! example
[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;].zip([1, 2, 3])</code></pre>
</blockquote>
<hr>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-57">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-57">&#182;</a>
              </div>
              <h2 id="helpers">Helpers</h2>

            </div>
            <div class="content"><pre><code class="lang-coffeescript">
</code></pre>
</div>
        </li>
        
        
        <li id="section-58">
            <div class="annotation">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-58">&#182;</a>
              </div>
              
            </div>
            <div class="content"><pre><code class="lang-coffeescript"><span class="function"><span class="title">identity</span></span> = (x) -&gt;
  x

<span class="function"><span class="title">rand</span></span> = (n) -&gt;
  Math.floor n * Math.random()

<span class="function"><span class="title">mod</span></span> = (n, base) -&gt;
  result = n % base

  <span class="keyword">if</span> result &lt; <span class="number">0</span> <span class="keyword">and</span> base &gt; <span class="number">0</span>
    result += base

  <span class="keyword">return</span> result</code></pre>
</div>
        </li>
        
    </ul>
  </div>
  <script src="https://code.jquery.com/jquery-1.10.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/coffee-script/1.6.3/coffee-script.min.js"></script><script>
  (function() {
  var ErrorReporter, bindUpdates, createEditor, exec, findInteractiveElements, readShebang, runners;

  createEditor = function(code, shebang, section) {
    var annotationElement, contentElement, editorElement, exampleSection, runtimeElement;
    exampleSection = $("<li>", {
      "class": "example"
    });
    annotationElement = $("<div>", {
      "class": "annotation"
    });
    editorElement = $("<textarea>", {
      "class": "annotation",
      text: code
    });
    contentElement = $("<div>", {
      "class": "content"
    });
    runtimeElement = $("<div>", {
      "class": "output"
    });
    contentElement.append(runtimeElement);
    annotationElement.append(editorElement);
    exampleSection.append(annotationElement);
    exampleSection.append(contentElement);
    section.after(exampleSection);
    return bindUpdates(shebang, editorElement, runtimeElement);
  };

  bindUpdates = function(shebang, editorElement, runtimeElement) {
    return editorElement.on("keyup", function() {
      var e, report, source;
      report = ErrorReporter(editorElement);
      source = editorElement.val();
      try {
        runners[shebang]({
          editorElement: editorElement,
          source: source,
          runtimeElement: runtimeElement
        });
        return report.clear();
      } catch (_error) {
        e = _error;
        return report(e);
      }
    });
  };

  readShebang = function(source) {
    var match;
    if (match = source.match(/^\#\! (.*)\n/)) {
      return match[1];
    }
  };

  ErrorReporter = function(editor) {
    var reporter;
    reporter = function(error) {
      var errorParagraph;
      if (editor.next().is("p.error")) {
        return editor.next().text(error);
      } else {
        errorParagraph = $("<p>", {
          "class": "error",
          text: error.toString()
        });
        return editor.after(errorParagraph);
      }
    };
    reporter.clear = function() {
      if (editor.next().is("p.error")) {
        return editor.next().remove();
      }
    };
    return reporter;
  };

  findInteractiveElements = function() {
    return $("blockquote > pre > code").each(function() {
      var blockQuoteElement, code, codeElement, sectionElement, shebang;
      codeElement = $(this);
      code = codeElement.text();
      if (shebang = readShebang(code)) {
        if (!runners[shebang]) {
          return;
        }
        code = code.split("\n").slice(1).join("\n");
        blockQuoteElement = codeElement.parent().parent();
        sectionElement = blockQuoteElement.parent().parent();
        blockQuoteElement.remove();
        return createEditor(code, shebang, sectionElement);
      }
    });
  };

  runners = {};

  (typeof window !== "undefined" && window !== null ? window : global).Interactive = {
    register: function(name, runner) {
      runners[name] = runner;
      findInteractiveElements();
      return $('#container').on('keyup', 'textarea', function() {
        $(this).height(0);
        return $(this).height(this.scrollHeight);
      }).find('textarea').keyup();
    }
  };

  exec = function(_arg) {
    var code, editorElement, runtimeElement, source;
    source = _arg.source, code = _arg.code, editorElement = _arg.editorElement, runtimeElement = _arg.runtimeElement;
    runtimeElement.remove();
    editorElement.replaceWith($("<pre>", {
      text: source
    }));
    return setTimeout(function() {
      return Function(code)();
    }, 0);
  };

  $(function() {
    Interactive.register("setup", function(params) {
      params.code = CoffeeScript.compile(params.source);
      return exec(params);
    });
    return Interactive.register("setup-js", function(params) {
      params.code = params.source;
      return exec(params);
    });
  });

}).call(this);

</script><script src="package.js"></script>
</body>
</html>